# Benchmarks

## Table of Contents

- [Benchmark Results](#benchmark-results)
    - [arc_str](#arc_str)
    - [arc_large_struct](#arc_large_struct)
    - [five_arc_fields](#five_arc_fields)
    - [lc_vs_string_fields_by_len](#lc_vs_string_fields_by_len)
    - [nested_structs_3_levels_by_len](#nested_structs_3_levels_by_len)
    - [deep_nested_by_depth](#deep_nested_by_depth)
    - [deep_nested_50_levels_by_size](#deep_nested_50_levels_by_size)
    - [string_size_comparison_by_len](#string_size_comparison_by_len)
    - [arc_lc_vs_clone](#arc_lc_vs_clone)
    - [collection__clone_by_len](#collection__clone_by_len)
    - [collection__clone_then_mutate_by_len](#collection__clone_then_mutate_by_len)
    - [map__clone_by_len](#map__clone_by_len)
    - [map__clone_then_mutate_by_len](#map__clone_then_mutate_by_len)

## Benchmark Results

### arc_str

|        | `lc`                     | `clone`                          |
|:-------|:-------------------------|:-------------------------------- |
|        | `11.75 ns` (âœ… **1.00x**) | `11.68 ns` (âœ… **1.01x faster**)  |

### arc_large_struct

|        | `lc`                    | `clone`                         |
|:-------|:------------------------|:------------------------------- |
|        | `8.75 ns` (âœ… **1.00x**) | `8.87 ns` (âœ… **1.01x slower**)  |

### five_arc_fields

|        | `lc`                     | `clone`                          |
|:-------|:-------------------------|:-------------------------------- |
|        | `44.86 ns` (âœ… **1.00x**) | `41.50 ns` (âœ… **1.08x faster**)  |

### lc_vs_string_fields_by_len

|             | `arc_lc`                 | `string_clone`                     |
|:------------|:-------------------------|:---------------------------------- |
| **`10`**    | `41.60 ns` (âœ… **1.00x**) | `48.76 ns` (âŒ *1.17x slower*)      |
| **`100`**   | `41.44 ns` (âœ… **1.00x**) | `52.47 ns` (âŒ *1.27x slower*)      |
| **`1000`**  | `41.49 ns` (âœ… **1.00x**) | `78.72 ns` (âŒ *1.90x slower*)      |
| **`10000`** | `41.56 ns` (âœ… **1.00x**) | `806.98 ns` (âŒ *19.42x slower*)    |

### nested_structs_3_levels_by_len

|             | `arc_nested_lc`          | `string_nested_clone`              |
|:------------|:-------------------------|:---------------------------------- |
| **`10`**    | `23.28 ns` (âœ… **1.00x**) | `33.07 ns` (âŒ *1.42x slower*)      |
| **`100`**   | `23.19 ns` (âœ… **1.00x**) | `36.71 ns` (âŒ *1.58x slower*)      |
| **`1000`**  | `23.16 ns` (âœ… **1.00x**) | `53.61 ns` (âŒ *2.31x slower*)      |
| **`10000`** | `23.19 ns` (âœ… **1.00x**) | `462.98 ns` (âŒ *19.97x slower*)    |

### deep_nested_by_depth

|           | `arc_lc`                 | `string_clone`                     |
|:----------|:-------------------------|:---------------------------------- |
| **`1`**   | `8.59 ns` (âœ… **1.00x**)  | `21.02 ns` (âŒ *2.45x slower*)      |
| **`5`**   | `14.38 ns` (âœ… **1.00x**) | `111.77 ns` (âŒ *7.77x slower*)     |
| **`10`**  | `14.54 ns` (âœ… **1.00x**) | `286.68 ns` (âŒ *19.72x slower*)    |
| **`25`**  | `14.31 ns` (âœ… **1.00x**) | `1.00 us` (âŒ *70.00x slower*)      |
| **`50`**  | `14.36 ns` (âœ… **1.00x**) | `2.26 us` (âŒ *157.31x slower*)     |
| **`100`** | `14.38 ns` (âœ… **1.00x**) | `4.80 us` (âŒ *333.84x slower*)     |

### deep_nested_50_levels_by_size

|             | `arc_lc`                 | `string_clone`                    |
|:------------|:-------------------------|:--------------------------------- |
| **`10`**    | `14.31 ns` (âœ… **1.00x**) | `1.48 us` (âŒ *103.16x slower*)    |
| **`100`**   | `14.35 ns` (âœ… **1.00x**) | `1.53 us` (âŒ *106.67x slower*)    |
| **`1000`**  | `14.34 ns` (âœ… **1.00x**) | `2.34 us` (âŒ *162.98x slower*)    |
| **`10000`** | `14.46 ns` (âœ… **1.00x**) | `9.44 us` (âŒ *652.60x slower*)    |

### string_size_comparison_by_len

|             | `arc_str_lc`             | `string_clone`                   |
|:------------|:-------------------------|:-------------------------------- |
| **`10`**    | `11.39 ns` (âœ… **1.00x**) | `12.71 ns` (âŒ *1.12x slower*)    |
| **`100`**   | `11.37 ns` (âœ… **1.00x**) | `13.30 ns` (âŒ *1.17x slower*)    |
| **`1000`**  | `11.36 ns` (âœ… **1.00x**) | `17.50 ns` (âŒ *1.54x slower*)    |
| **`10000`** | `11.39 ns` (âœ… **1.00x**) | `80.59 ns` (âŒ *7.07x slower*)    |

### arc_lc_vs_clone

|        | `arc.light_clone()`          | `arc.clone()`                    |
|:-------|:-----------------------------|:-------------------------------- |
|        | `12.33 ns` (âœ… **1.00x**)     | `12.34 ns` (âœ… **1.00x slower**)  |

### collection__clone_by_len

|             | `std_vec`                 | `im_vector`                      | `imbl_vector`                    | `rpds_vector`                     |
|:------------|:--------------------------|:---------------------------------|:---------------------------------|:--------------------------------- |
| **`10`**    | `11.53 ns` (âœ… **1.00x**)  | `8.98 ns` (âœ… **1.28x faster**)   | `9.02 ns` (âœ… **1.28x faster**)   | `1.03 ns` (ğŸš€ **11.23x faster**)   |
| **`100`**   | `12.14 ns` (âœ… **1.00x**)  | `40.19 ns` (âŒ *3.31x slower*)    | `39.81 ns` (âŒ *3.28x slower*)    | `1.03 ns` (ğŸš€ **11.81x faster**)   |
| **`1000`**  | `51.91 ns` (âœ… **1.00x**)  | `39.89 ns` (âœ… **1.30x faster**)  | `39.88 ns` (âœ… **1.30x faster**)  | `1.01 ns` (ğŸš€ **51.27x faster**)   |
| **`10000`** | `603.95 ns` (âœ… **1.00x**) | `41.68 ns` (ğŸš€ **14.49x faster**) | `40.60 ns` (ğŸš€ **14.88x faster**) | `1.05 ns` (ğŸš€ **577.06x faster**)  |

### collection__clone_then_mutate_by_len

|             | `std_vec`                 | `im_vector`                     | `imbl_vector`                   | `rpds_vector`                     |
|:------------|:--------------------------|:--------------------------------|:--------------------------------|:--------------------------------- |
| **`10`**    | `26.66 ns` (âœ… **1.00x**)  | `12.67 ns` (ğŸš€ **2.10x faster**) | `12.62 ns` (ğŸš€ **2.11x faster**) | `74.94 ns` (âŒ *2.81x slower*)     |
| **`100`**   | `43.20 ns` (âœ… **1.00x**)  | `80.89 ns` (âŒ *1.87x slower*)   | `82.80 ns` (âŒ *1.92x slower*)   | `109.32 ns` (âŒ *2.53x slower*)    |
| **`1000`**  | `53.98 ns` (âœ… **1.00x**)  | `82.71 ns` (âŒ *1.53x slower*)   | `83.12 ns` (âŒ *1.54x slower*)   | `128.03 ns` (âŒ *2.37x slower*)    |
| **`10000`** | `657.11 ns` (âœ… **1.00x**) | `73.52 ns` (ğŸš€ **8.94x faster**) | `72.41 ns` (ğŸš€ **9.07x faster**) | `152.43 ns` (ğŸš€ **4.31x faster**)  |

### map__clone_by_len

|             | `std_hashmap`             | `im_hashmap`                      | `imbl_hashmap`                    | `rpds_hashtriemap`                 |
|:------------|:--------------------------|:----------------------------------|:----------------------------------|:---------------------------------- |
| **`10`**    | `16.77 ns` (âœ… **1.00x**)  | `14.87 ns` (âœ… **1.13x faster**)   | `14.54 ns` (âœ… **1.15x faster**)   | `1.63 ns` (ğŸš€ **10.31x faster**)    |
| **`100`**   | `45.30 ns` (âœ… **1.00x**)  | `14.83 ns` (ğŸš€ **3.06x faster**)   | `14.55 ns` (ğŸš€ **3.11x faster**)   | `1.65 ns` (ğŸš€ **27.53x faster**)    |
| **`1000`**  | `126.36 ns` (âœ… **1.00x**) | `14.89 ns` (ğŸš€ **8.49x faster**)   | `14.60 ns` (ğŸš€ **8.65x faster**)   | `1.64 ns` (ğŸš€ **77.14x faster**)    |
| **`10000`** | `2.28 us` (âœ… **1.00x**)   | `14.81 ns` (ğŸš€ **153.88x faster**) | `14.52 ns` (ğŸš€ **156.94x faster**) | `1.61 ns` (ğŸš€ **1414.30x faster**)  |

### map__clone_then_mutate_by_len

|             | `std_hashmap`             | `im_hashmap`                     | `imbl_hashmap`                   | `rpds_hashtriemap`                |
|:------------|:--------------------------|:---------------------------------|:---------------------------------|:--------------------------------- |
| **`10`**    | `21.66 ns` (âœ… **1.00x**)  | `123.87 ns` (âŒ *5.72x slower*)   | `60.07 ns` (âŒ *2.77x slower*)    | `98.30 ns` (âŒ *4.54x slower*)     |
| **`100`**   | `44.63 ns` (âœ… **1.00x**)  | `393.88 ns` (âŒ *8.83x slower*)   | `284.61 ns` (âŒ *6.38x slower*)   | `158.37 ns` (âŒ *3.55x slower*)    |
| **`1000`**  | `130.93 ns` (âœ… **1.00x**) | `473.86 ns` (âŒ *3.62x slower*)   | `417.56 ns` (âŒ *3.19x slower*)   | `184.26 ns` (âŒ *1.41x slower*)    |
| **`10000`** | `2.26 us` (âœ… **1.00x**)   | `724.36 ns` (ğŸš€ **3.12x faster**) | `631.58 ns` (ğŸš€ **3.58x faster**) | `227.43 ns` (ğŸš€ **9.93x faster**)  |

---
Made with [criterion-table](https://github.com/nu11ptr/criterion-table)

